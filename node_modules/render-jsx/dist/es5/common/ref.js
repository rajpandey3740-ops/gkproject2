"use strict";
/*global RefLike*/
Object.defineProperty(exports, "__esModule", { value: true });
exports.ref = exports.Ref = void 0;
var errors_1 = require("./errors");
var Ref = /** @class */ (function () {
    function Ref() {
        this._resolved = false;
    }
    Object.defineProperty(Ref.prototype, "resolved", {
        get: function () {
            return this.isResolved();
        },
        enumerable: false,
        configurable: true
    });
    Ref.prototype.isResolved = function () {
        return this._resolved;
    };
    Object.defineProperty(Ref.prototype, "$", {
        get: function () {
            if (!this.isResolved()) {
                throw new errors_1.UnresolvedRefError(this);
            }
            return this._$;
        },
        enumerable: false,
        configurable: true
    });
    Ref.prototype.resolve = function (t) {
        if (this.isResolved()) {
            throw new errors_1.RefAlreadyResolvedError(this);
        }
        this._$ = t;
        this._resolved = true;
    };
    return Ref;
}());
exports.Ref = Ref;
function ref() {
    return new Ref();
}
exports.ref = ref;
//# sourceMappingURL=ref.js.map