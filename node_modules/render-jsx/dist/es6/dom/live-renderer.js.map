{"version":3,"file":"live-renderer.js","sourceRoot":"","sources":["../../../src/dom/live-renderer.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACzC,OAAO,EAAE,mBAAmB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,mBAAmB,CAAC;AAGvF,MAAM,OAAO,eAAgB,SAAQ,WAAW;IAC9C,IAAI,CAAC,IAAU,EAAE,IAAmB;QAClC,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,UAAU,CAAC,MAAY;QACrB,IAAI,MAAM,YAAY,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE;YAC/C,OAAO,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SACjC;aAAM;YACL,OAAO,GAAG,EAAE;gBACV,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;oBAClC,aAAa,CAAC,MAAM,CAAC,CAAC;iBACvB;gBAED,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC;YAC7B,CAAC,CAAC;SACH;IACH,CAAC;IAED,IAAI,CAAC,GAAG,OAAkD;QACxD,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,OAAO,CAAoB,CAAC;IACnD,CAAC;IAED,KAAK,CAAC,GAAG,OAAkD;QACzD,OAAO,IAAI,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,CAAC;IACnD,CAAC;IAED,MAAM,CAAC,IAAU,EAAE,SAAmB;QACpC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,EAAE;YACd,cAAc,CAAC,IAAI,CAAC,CAAC;SACtB;IACH,CAAC;CACF","sourcesContent":["import { LifeCycleHook, LiveRendererLike, PluginFactory, RendererLike } from '../renderer';\nimport { DOMRenderer } from './renderer';\nimport { attachLifeCycleHook, lifeCycleBind, lifeCycleClear } from './util/life-cycle';\n\n\nexport class LiveDOMRenderer extends DOMRenderer implements LiveRendererLike<Node> {\n  hook(node: Node, hook: LifeCycleHook): void {\n    attachLifeCycleHook(hook, node);\n  }\n\n  postRender(target: Node) {\n    if (target instanceof this.dom.DocumentFragment) {\n      return super.postRender(target);\n    } else {\n      return () => {\n        if (this.document.contains(target)) {\n          lifeCycleBind(target);\n        }\n\n        super.postRender(target)();\n      };\n    }\n  }\n\n  plug(...plugins: PluginFactory<Node, RendererLike<Node>>[]) {\n    return super.plug(...plugins) as LiveDOMRenderer;\n  }\n\n  clone(...plugins: PluginFactory<Node, RendererLike<Node>>[]) {\n    return new LiveDOMRenderer(this.dom, ...plugins);\n  }\n\n  remove(node: Node, temporary?: boolean) {\n    super.remove(node);\n    if (!temporary) {\n      lifeCycleClear(node);\n    }\n  }\n}\n"]}