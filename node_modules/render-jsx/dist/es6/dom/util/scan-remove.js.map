{"version":3,"file":"scan-remove.js","sourceRoot":"","sources":["../../../../src/dom/util/scan-remove.ts"],"names":[],"mappings":"AAQA,MAAM,UAAU,UAAU,CAAC,KAAW,EAAE,GAAS,EAAE,OAAqB;IACtE,MAAM,IAAI,mBACR,YAAY,EAAE,KAAK,EACnB,UAAU,EAAE,KAAK,EACjB,MAAM,EAAE,CAAC,CAAO,EAAE,EAAE,CAAC,CAAC,CAAC,aAAe,CAAC,WAAW,CAAC,CAAC,CAAC,EACrD,QAAQ,EAAE,SAAS,IAChB,OAAO,CACX,CAAC;IAEF,IAAI,OAAO,GAAY,EAAE,CAAC;IAE1B,MAAM,QAAQ,GAAG,CAAC,CAAO,EAAE,KAAwB,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;QAC3E,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACf,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SAClB;QACD,EAAE,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC;IAEF,IAAI,MAAM,GAAiB,KAAK,CAAC;IACjC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,MAAM,KAAK,GAAG,EAAE;QACrD,QAAQ,CAAC,MAAM,CAAC,CAAC;KAClB;IAED,IAAI,IAAI,CAAC,YAAY,EAAE;QACrB,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;KACrD;IACD,IAAI,IAAI,CAAC,UAAU,EAAE;QACnB,QAAQ,CAAC,GAAG,CAAC,CAAC;KACf;IAED,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["export interface ScanOptions {\n  includeStart?: boolean;\n  includeEnd?: boolean;\n  remove?: (n: Node) => void;\n  callback?: (n: Node) => void;\n}\n\n\nexport function scanRemove(start: Node, end: Node, options?: ScanOptions) {\n  const opts = {\n    includeStart: false,\n    includeEnd: false,\n    remove: (n: Node) => n.parentElement!!.removeChild(n),\n    callback: undefined,\n    ...options\n  };\n\n  let scanned : Node[] = [];\n\n  const _remscan = (n: Node, cb: (n: Node) => void = _n => scanned.push(_n)) => {\n    opts.remove(n);\n    if (opts.callback) {\n      opts.callback(n);\n    }\n    cb(n);\n  };\n\n  let cursor : Node | null = start;\n  while ((cursor = start.nextSibling) && cursor !== end) {\n    _remscan(cursor);\n  }\n\n  if (opts.includeStart) {\n    _remscan(start, n => scanned = [n].concat(scanned));\n  }\n  if (opts.includeEnd) {\n    _remscan(end);\n  }\n\n  return scanned;\n}\n"]}